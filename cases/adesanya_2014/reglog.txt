%%
dataLibrary = 'data_reg_adesanya_2014';

%%
sizeIncrease = 2;
maxOxygenDemand = 8.28;
maxCarbonUptake = -10;
K = 0.04; % Half saturation coefficient for starch consumption
qh = 0.1; % Half saturation coefficient for lipid ratio (m-m model only);
P0 = [sizeIncrease;maxOxygenDemand;maxCarbonUptake;log(K);log(qh)]

P0 =

    2.0000
    8.2800
  -10.0000
   -3.2189
   -2.3026

e0 = errorFunction(P0,dataLibrary)
{Error using <a href="matlab:matlab.internal.language.introspective.errorDocCallback('errorFunction')" style="font-weight:bold">errorFunction</a>
Too many input arguments.
} 
{Operation terminated by user during <a href="matlab:matlab.internal.language.introspective.errorDocCallback('glpk', '/home/juan/cobratoolbox/external/base/solvers/glpkmex/glpk.m', 508)" style="font-weight:bold">glpk</a> (<a href="matlab: opentoline('/home/juan/cobratoolbox/external/base/solvers/glpkmex/glpk.m',508,0)">line 508</a>)


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('solveCobraLP>solveGlpk', '/home/juan/cobratoolbox/src/base/solvers/solveCobraLP.m', 1740)" style="font-weight:bold">solveCobraLP>solveGlpk</a> (<a href="matlab: opentoline('/home/juan/cobratoolbox/src/base/solvers/solveCobraLP.m',1740,0)">line 1740</a>)
[x,f,origStat,extra] = glpk(c,A,b,lb,ub,csense,[],osense,params);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('solveCobraLP', '/home/juan/cobratoolbox/src/base/solvers/solveCobraLP.m', 500)" style="font-weight:bold">solveCobraLP</a> (<a href="matlab: opentoline('/home/juan/cobratoolbox/src/base/solvers/solveCobraLP.m',500,0)">line 500</a>)
        [x, f, y, w, stat, origStat] = solveGlpk(c, A, b, lb, ub, csense, osense, param);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('optimizeCbModel', '/home/juan/cobratoolbox/src/analysis/FBA/optimizeCbModel.m', 347)" style="font-weight:bold">optimizeCbModel</a> (<a href="matlab: opentoline('/home/juan/cobratoolbox/src/analysis/FBA/optimizeCbModel.m',347,0)">line 347</a>)
    solution = solveCobraLP(LPproblem);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('FBAcalc', '/home/juan/thesis/photoBioreactor_v11/calculation/FBAcalc.m', 60)" style="font-weight:bold">FBAcalc</a> (<a href="matlab: opentoline('/home/juan/thesis/photoBioreactor_v11/calculation/FBAcalc.m',60,0)">line 60</a>)
            localFBA = optimizeCbModel(changeObjective(model,PBR.methods.objectiveFunctionStarch));

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('sFBA', '/home/juan/thesis/photoBioreactor_v11/calculation/sFBA.m', 62)" style="font-weight:bold">sFBA</a> (<a href="matlab: opentoline('/home/juan/thesis/photoBioreactor_v11/calculation/sFBA.m',62,0)">line 62</a>)
    solution = FBAcalc(PBR,solution);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('evaluateModel', '/home/juan/thesis/photoBioreactor_v11/regression/evaluateModel.m', 11)" style="font-weight:bold">evaluateModel</a> (<a href="matlab: opentoline('/home/juan/thesis/photoBioreactor_v11/regression/evaluateModel.m',11,0)">line 11</a>)
solution = sFBA(PBR,'printLevel',0);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('errorFunction', '/home/juan/thesis/photoBioreactor_v11/regression/errorFunction.m', 5)" style="font-weight:bold">errorFunction</a> (<a href="matlab: opentoline('/home/juan/thesis/photoBioreactor_v11/regression/errorFunction.m',5,0)">line 5</a>)
[solution,data] = evaluateModel(P,dataLibrary);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('LiveEditorEvaluationHelperESectionEval', '/tmp/Editor/LiveEditorEvaluationHelperESectionEval.mlx', 19)" style="font-weight:bold">LiveEditorEvaluationHelperESectionEval</a> (<a href="matlab: opentoline('/tmp/Editor/LiveEditorEvaluationHelperESectionEval.mlx',19,0)">line 19</a>)
e0 = errorFunction(P0,dataLibrary);

In matlab.internal.editor.evaluateCode
} 
e0 = errorFunction(P0,dataLibrary);
{Operation terminated by user during <a href="matlab:matlab.internal.language.introspective.errorDocCallback('glpk', '/home/juan/cobratoolbox/external/base/solvers/glpkmex/glpk.m', 508)" style="font-weight:bold">glpk</a> (<a href="matlab: opentoline('/home/juan/cobratoolbox/external/base/solvers/glpkmex/glpk.m',508,0)">line 508</a>)


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('solveCobraLP>solveGlpk', '/home/juan/cobratoolbox/src/base/solvers/solveCobraLP.m', 1740)" style="font-weight:bold">solveCobraLP>solveGlpk</a> (<a href="matlab: opentoline('/home/juan/cobratoolbox/src/base/solvers/solveCobraLP.m',1740,0)">line 1740</a>)
[x,f,origStat,extra] = glpk(c,A,b,lb,ub,csense,[],osense,params);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('solveCobraLP', '/home/juan/cobratoolbox/src/base/solvers/solveCobraLP.m', 500)" style="font-weight:bold">solveCobraLP</a> (<a href="matlab: opentoline('/home/juan/cobratoolbox/src/base/solvers/solveCobraLP.m',500,0)">line 500</a>)
        [x, f, y, w, stat, origStat] = solveGlpk(c, A, b, lb, ub, csense, osense, param);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('optimizeCbModel', '/home/juan/cobratoolbox/src/analysis/FBA/optimizeCbModel.m', 347)" style="font-weight:bold">optimizeCbModel</a> (<a href="matlab: opentoline('/home/juan/cobratoolbox/src/analysis/FBA/optimizeCbModel.m',347,0)">line 347</a>)
    solution = solveCobraLP(LPproblem);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('FBAcalc', '/home/juan/thesis/photoBioreactor_v11/calculation/FBAcalc.m', 71)" style="font-weight:bold">FBAcalc</a> (<a href="matlab: opentoline('/home/juan/thesis/photoBioreactor_v11/calculation/FBAcalc.m',71,0)">line 71</a>)
                    lipidFBA = optimizeCbModel(changeObjective(model,PBR.methods.objectiveFunctionLipid));

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('sFBA', '/home/juan/thesis/photoBioreactor_v11/calculation/sFBA.m', 62)" style="font-weight:bold">sFBA</a> (<a href="matlab: opentoline('/home/juan/thesis/photoBioreactor_v11/calculation/sFBA.m',62,0)">line 62</a>)
    solution = FBAcalc(PBR,solution);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('evaluateModel', '/home/juan/thesis/photoBioreactor_v11/regression/evaluateModel.m', 11)" style="font-weight:bold">evaluateModel</a> (<a href="matlab: opentoline('/home/juan/thesis/photoBioreactor_v11/regression/evaluateModel.m',11,0)">line 11</a>)
solution = sFBA(PBR,'printLevel',0);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('errorFunction', '/home/juan/thesis/photoBioreactor_v11/regression/errorFunction.m', 5)" style="font-weight:bold">errorFunction</a> (<a href="matlab: opentoline('/home/juan/thesis/photoBioreactor_v11/regression/errorFunction.m',5,0)">line 5</a>)
[solution,data] = evaluateModel(P,dataLibrary);
} 
e0 = errorFunction(P0,dataLibrary);
{Reference to non-existent field 'eTAG'.

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('errorFunction', '/home/juan/thesis/photoBioreactor_v11/regression/errorFunction.m', 6)" style="font-weight:bold">errorFunction</a> (<a href="matlab: opentoline('/home/juan/thesis/photoBioreactor_v11/regression/errorFunction.m',6,0)">line 6</a>)
eTAG = data.eTAG;
} 
opentoline('/home/juan/thesis/photoBioreactor_v11/regression/errorFunction.m',6,0)
[e,solution] = errorFunction(x,dataLibrary)
{Undefined function or variable 'x'.
} 
load('reglog_adesanya_2014.mat')
[e,solution] = errorFunction(x,dataLibrary)
{Operation terminated by user during <a href="matlab:matlab.internal.language.introspective.errorDocCallback('glpk', '/home/juan/cobratoolbox/external/base/solvers/glpkmex/glpk.m', 508)" style="font-weight:bold">glpk</a> (<a href="matlab: opentoline('/home/juan/cobratoolbox/external/base/solvers/glpkmex/glpk.m',508,0)">line 508</a>)


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('solveCobraLP>solveGlpk', '/home/juan/cobratoolbox/src/base/solvers/solveCobraLP.m', 1740)" style="font-weight:bold">solveCobraLP>solveGlpk</a> (<a href="matlab: opentoline('/home/juan/cobratoolbox/src/base/solvers/solveCobraLP.m',1740,0)">line 1740</a>)
[x,f,origStat,extra] = glpk(c,A,b,lb,ub,csense,[],osense,params);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('solveCobraLP', '/home/juan/cobratoolbox/src/base/solvers/solveCobraLP.m', 500)" style="font-weight:bold">solveCobraLP</a> (<a href="matlab: opentoline('/home/juan/cobratoolbox/src/base/solvers/solveCobraLP.m',500,0)">line 500</a>)
        [x, f, y, w, stat, origStat] = solveGlpk(c, A, b, lb, ub, csense, osense, param);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('optimizeCbModel', '/home/juan/cobratoolbox/src/analysis/FBA/optimizeCbModel.m', 347)" style="font-weight:bold">optimizeCbModel</a> (<a href="matlab: opentoline('/home/juan/cobratoolbox/src/analysis/FBA/optimizeCbModel.m',347,0)">line 347</a>)
    solution = solveCobraLP(LPproblem);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('FBAcalc', '/home/juan/thesis/photoBioreactor_v11/calculation/FBAcalc.m', 71)" style="font-weight:bold">FBAcalc</a> (<a href="matlab: opentoline('/home/juan/thesis/photoBioreactor_v11/calculation/FBAcalc.m',71,0)">line 71</a>)
                    lipidFBA = optimizeCbModel(changeObjective(model,PBR.methods.objectiveFunctionLipid));

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('sFBA', '/home/juan/thesis/photoBioreactor_v11/calculation/sFBA.m', 69)" style="font-weight:bold">sFBA</a> (<a href="matlab: opentoline('/home/juan/thesis/photoBioreactor_v11/calculation/sFBA.m',69,0)">line 69</a>)
    solution = FBAcalc(PBR,solution);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('evaluateModel', '/home/juan/thesis/photoBioreactor_v11/regression/evaluateModel.m', 5)" style="font-weight:bold">evaluateModel</a> (<a href="matlab: opentoline('/home/juan/thesis/photoBioreactor_v11/regression/evaluateModel.m',5,0)">line 5</a>)
solution = sFBA(PBR,'printLevel',0);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('errorFunction', '/home/juan/thesis/photoBioreactor_v11/regression/errorFunction.m', 5)" style="font-weight:bold">errorFunction</a> (<a href="matlab: opentoline('/home/juan/thesis/photoBioreactor_v11/regression/errorFunction.m',5,0)">line 5</a>)
[solution,data] = evaluateModel(P,dataLibrary);
} 
e0 = errorFunction(P0,dataLibrary);
{Operands to the || and && operators must be convertible to logical scalar values.

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('errorFunction', '/home/juan/thesis/photoBioreactor_v11/regression/errorFunction.m', 21)" style="font-weight:bold">errorFunction</a> (<a href="matlab: opentoline('/home/juan/thesis/photoBioreactor_v11/regression/errorFunction.m',21,0)">line 21</a>)
if eTAG == 0 && eStarch == 0
} 
opentoline('/home/juan/thesis/photoBioreactor_v11/regression/errorFunction.m',21,0)
edit experimentalData.m
edit report
doc all
Exception in thread "AWT-EventQueue-0" com.teamdev.jxbrowser.chromium.internal.ipc.IPCException: Failed to execute shutdown post message.
	at com.teamdev.jxbrowser.chromium.internal.ipc.IPC.c(Unknown Source)
	at com.teamdev.jxbrowser.chromium.internal.ipc.IPC.stop(Unknown Source)
	at com.teamdev.jxbrowser.chromium.Browser.a(Unknown Source)
	at com.teamdev.jxbrowser.chromium.Browser.dispose(Unknown Source)
	at com.mathworks.html.jxbrowser.chromium.JxBrowserChromiumComponent.doBrowserDisposal(JxBrowserChromiumComponent.java:96)
	at com.mathworks.html.jxbrowser.chromium.JxBrowserChromiumComponent.access$400(JxBrowserChromiumComponent.java:20)
	at com.mathworks.html.jxbrowser.chromium.JxBrowserChromiumComponent$RemoveRunnable.run(JxBrowserChromiumComponent.java:82)
	at java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:311)
	at java.awt.EventQueue.dispatchEventImpl(EventQueue.java:756)
	at java.awt.EventQueue.access$500(EventQueue.java:97)
	at java.awt.EventQueue$3.run(EventQueue.java:709)
	at java.awt.EventQueue$3.run(EventQueue.java:703)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:80)
	at java.awt.EventQueue.dispatchEvent(EventQueue.java:726)
	at java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:201)
	at java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:116)
	at java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:105)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)
	at java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:93)
	at java.awt.EventDispatchThread.run(EventDispatchThread.java:82)
